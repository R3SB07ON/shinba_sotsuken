<!DOCTYPE html>
<html lang="ja">
  <head>
    <meta charset="utf-8">
    <title>パラメータ分析</title>

  </head>
  <body>

    

    <script>
        
        const paramList = new Array("慎重","冷静","不信",
                                    "確認","報連相","ルール","日常習慣",
                                    "危険予測","倫理","洞察",
                                    "知識","好奇心","事前","事後");
        
        function param_avg(pdata){
            for(i=0;i<paramList.length;i++){
                let reg = new RegExp(paramList[i] + ":" + "[0-9]{1,3}", 'g');
                let result = pdata.match(reg);
                let sum = 0;
                console.log(paramList[i] + result.length);
                for(j=0;j<result.length;j++){
                    result[j] = result[j].replace(paramList[i] + ":", "");
                    sum += Number(result[j]);
                    //console.log(result[j]);
                }
                console.log(sum/result.length);
            
                const newElement1 = document.createElement('p');
                newElement1.textContent = paramList[i] + ":" + Math.round((sum/result.length)*10)/10;
                document.body.appendChild(newElement1);
            }
        }

    </script>

    <p>小数点第1位以下四捨五入</p>
    <h4>予防編</h4>

    <script>
        const p_data =
        "パラメータ慎重:72冷静:81不信:99確認:56報連相:88ルール:75日常習慣:87危険予測:70倫理:95洞察:100知識:62好奇心:15パラメータ慎重:80冷静:79不信:81確認:89報連相:85ルール:78日常習慣:86危険予測:88倫理:82洞察:80知識:88好奇心:1パラメータ慎重:58冷静:88不信:92確認:54報連相:72ルール:71日常習慣:67危険予測:65倫理:89洞察:87好奇心:3パラメータ慎重:61冷静:67不信:73確認:61報連相:59ルール:60日常習慣:67危険予測:73倫理:73洞察:67知識:61好奇心:0パラメータ慎重:56冷静:98不信:100確認:68報連相:95ルール:97日常習慣:66危険予測:48倫理:80洞察:100知識:66好奇心:0パラメータ慎重:100冷静:96不信:100確認:100報連相:85ルール:93日常習慣:98危険予測:98倫理:100洞察:100好奇心:7パラメータ慎重:46冷静:36不信:59確認:34報連相:41ルール:45日常習慣:75危険予測:66倫理:78洞察:67知識:61好奇心:12パラメータ慎重:74冷静:94不信:109確認:61報連相:92ルール:84日常習慣:89危険予測:82倫理:108洞察:100知識:72好奇心:9パラメータ慎重:73冷静:74不信:86確認:67報連相:77ルール:78日常習慣:77危険予測:72倫理:84洞察:85知識:69好奇心:10パラメータ慎重:90冷静:90不信:104確認:84報連相:85ルール:81日常習慣:105危険予測:98倫理:98洞察:90知識:86好奇心:8パラメータ慎重:65冷静:91不信:47確認:94報連相:92ルール:74日常習慣:75危険予測:52倫理:49洞察:74知識:76好奇心:70パラメータ慎重:38冷静:68不信:80確認:26報連相:85ルール:66日常習慣:63危険予測:51倫理:88洞察:80知識:46好奇心:17パラメータ慎重:70冷静:88不信:102確認:62報連相:90ルール:81日常習慣:93危険予測:79倫理:106洞察:85知識:74好奇心:8";

        param_avg(p_data);
    </script>

    <h4>対応編</h4>
    <script>
        const r_data = 
        "慎重:60冷静:89不信:65確認:93報連相:58ルール:74日常習慣:97危険予測:59倫理:100洞察:50知識:50好奇心:0事前:78事後:89慎重:80冷静:63不信:45確認:100報連相:82ルール:74日常習慣:76危険予測:74倫理:50洞察:64知識:75好奇心:0事前:93事後:63慎重:90冷静:63不信:60確認:78報連相:84ルール:74日常習慣:70危険予測:71倫理:50洞察:78知識:50好奇心:0事前:93事後:63慎重:75冷静:89不信:65確認:93報連相:76ルール:68日常習慣:91危険予測:59倫理:100洞察:64知識:50好奇心:0事前:78事後:89慎重:90冷静:76不信:60確認:86報連相:50ルール:56日常習慣:85危険予測:62倫理:70洞察:64知識:50好奇心:0事前:85事後:76慎重:100冷静:76不信:60確認:79報連相:76ルール:50日常習慣:82危険予測:71倫理:70洞察:64知識:75好奇心:0事前:86事後:76慎重:60冷静:76不信:65確認:93報連相:84ルール:74日常習慣:91危険予測:65倫理:70洞察:64知識:50好奇心:0事前:86事後:76慎重:75冷静:76不信:85確認:79報連相:74ルール:50日常習慣:88危険予測:74倫理:70洞察:50知識:75好奇心:0事前:86事後:76冷静:63不信:45確認:100報連相:58ルール:80日常習慣:82危険予測:83倫理:70洞察:64知識:75好奇心:0事前:93事後:63慎重:90冷静:76不信:45確認:100報連相:82ルール:74日常習慣:82危険予測:53倫理:50洞察:64知識:50好奇心:0事前:85事後:76慎重:85冷静:76不信:45確認:100報連相:66ルール:80日常習慣:88危険予測:53倫理:50洞察:64知識:50好奇心:0事前:85事後:76慎重:60冷静:89不信:55確認:100報連相:76ルール:80日常習慣:97危険予測:71倫理:70洞察:78知識:75好奇心:0事前:78事後:89慎重:90冷静:63不信:50確認:100報連相:66ルール:74日常習慣:76危険予測:74倫理:50洞察:64知識:75好奇心:0事前:93事後:63";

        param_avg(r_data);
    </script>


  </body>
</html>
